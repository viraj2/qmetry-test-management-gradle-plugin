# qmetry-test-management-gradle-plugin
QMetry Test Management plugin for Gradle has been designed to seamlessly integrate your CI/CD pipeline with QMetry.

QTMGradlePlugin uploads result file(s) generated in a Gradle project to QTM Enterprise server.
The plugin, if used in a gradle project, provides an additional gradle task 'publishResults'

## How to use the plugin?
to install the plugin in your local maven repository. 
```
gradle clean install
```
Use the plugin from anywhere in a gradle project, by including a configuration in **build.gradle** file.
The task *publishResults* always looks for *qmetryConfig {... }* in build.gradle file of your project. Provide following details :-

* **qtmUrl** - url to qtm instance
* **qtmAutomationApiKey** - Automation Key
* **automationFramework** - JUNIT/TESTNG/CUCUMBER/QAS/HPUFT
* **testSuite** (optional) - Key of test suite.
* **buildName** (optional) - Name of cycle linked to test suite
* **testResultFilePath** - path to result file (or directory for multiple files) relative to build directory
* **platform** (optional) - Name of the platform to connect the suite

Include the following code in your **build.gradle** file. Change qmetryConfig values as required.
```
apply plugin: 'com.qmetry.qtmgradleplugin'

qmetryConfig
{
	qtmUrl='https://yourcompany.qmetry.com/'
	qtmAutomationApiKey='zEzs7iy77D8ARWX8xMFzdhfsrgh6W0LCyaK6xdec'
	automationFramework='JUNIT'
	testResultFilePath='/test-results/test/TEST-ispl.sample.AppSecondTest.xml'
	platform='chrome'
	testSuite='STR-TS-01'
	buildName='Default Cycle'
}

buildscript
{
    repositories
	{
        mavenLocal()
		mavenCentral()
    }
    dependencies
	{
        classpath 'com.qmetry:QTMGradlePlugin:1.0'
    }
}
```
now, use the following command from your project directory.
```
gradle test publishResults
```
**Or** alternatively, use the executable jar file generated by command 
```
gradle clean build
```
Use the jar file directly as a dependency in your Gradle project *build.gradle* file.